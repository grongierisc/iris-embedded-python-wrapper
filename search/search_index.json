{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"iris-embedded-python-wrapper This is a module that wraps embedded python in the IRIS Dataplateform. It provides a simple interface to run python code in IRIS. More details can be found in the IRIS documentation Pre-requisites To make use of this module, you need to have the IRIS Dataplatform installed on your machine (more details can be found here ). Then you must configure the service callin to allow the python code to be executed and set the environment variables . Configuration of the service callin In the Management Portal, go to System Administration > Security > Services, select %Service_CallIn, and check the Service Enabled box. More details can be found in the IRIS documentation Environment Variables Set the following environment variables : IRISINSTALLDIR: The path to the IRIS installation directory LD_LIBRARY_PATH: The path to the IRIS library IRISUSERNAME: The username to connect to IRIS IRISPASSWORD: The password to connect to IRIS IRISNAMESPACE: The namespace to connect to IRIS For Linux and MacOS For Linux and MacOS, you can set the environment variables as follows: export IRISINSTALLDIR=/opt/iris export LD_LIBRARY_PATH=$IRISINSTALLDIR/bin:$LD_LIBRARY_PATH # for MacOS export DYLD_LIBRARY_PATH=$IRISINSTALLDIR/bin:$DYLD_LIBRARY_PATH # for IRIS username export IRISUSERNAME=SuperUser export IRISPASSWORD=SYS export IRISNAMESPACE=USER For windows For windows, you can set the environment variables as follows: set IRISINSTALLDIR=C:\\path\\to\\iris set LD_LIBRARY_PATH=%IRISINSTALLDIR%\\bin;%LD_LIBRARY_PATH% Update the library path for windows set PATH=%IRISINSTALLDIR%\\bin;%PATH% Set the IRIS username, password, and namespace set IRISUSERNAME=SuperUser set IRISPASSWORD=SYS set IRISNAMESPACE=USER For PowerShell For PowerShell, you can set the environment variables as follows: $env:IRISINSTALLDIR=\"C:\\path\\to\\iris\" $env:PATH=\"$env:IRISINSTALLDIR\\bin;$env:PATH\" $env:IRISUSERNAME=\"SuperUser\" $env:IRISPASSWORD=\"SYS\" $env:IRISNAMESPACE=\"USER\" Installation pip install iris-embedded-python-wrapper Usage You can use this module in three ways: Run python code in IRIS Bind a virtual environment to embedded python in IRIS Unbind a virtual environment from embedded python in IRIS Run python code in IRIS Now you can use the module to run python code in IRIS. Here is an example: import iris iris.system.Version.GetVersion() Output: 'IRIS for UNIX (Apple Mac OS X for x86-64) 2024.3 (Build 217U) Thu Nov 14 2024 17:29:23 EST' Bind a virtual environment to embedded python in IRIS You can also bind or unbind an virtual environment to embedded python in IRIS. Here is an example: bind_iris Output: (.venv) demo \u2039master*\u203a$ bind_iris INFO:iris_utils._find_libpyton:Created backup at /opt/intersystems/iris/iris.cpf.fa76423a7b924eb085911690c8266129 INFO:iris_utils._find_libpyton:Created merge file at /opt/intersystems/iris/iris.cpf.python_merge up IRIS 2024.3.0.217.0 1972 /opt/intersystems/iris Username: SuperUser Password: *** IRIS Merge of /opt/intersystems/iris/iris.cpf.python_merge into /opt/intersystems/iris/iris.cpf IRIS Merge completed successfully INFO:iris_utils._find_libpyton:PythonRuntimeLibrary path set to /usr/local/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/Python INFO:iris_utils._find_libpyton:PythonPath set to /demo/.venv/lib/python3.11/site-packages INFO:iris_utils._find_libpyton:PythonRuntimeLibraryVersion set to 3.11 You may have to put your admin credentials to bind the virtual environment to the embedded python in IRIS. In windows, you must restart the IRIS. Unbind a virtual environment from embedded python in IRIS unbind_iris Output: (.venv) demo \u2039master*\u203a$ unbind_iris INFO:iris_utils._find_libpyton:Created merge file at /opt/intersystems/iris/iris.cpf.python_merge up IRIS 2024.3.0.217.0 1972 /opt/intersystems/iris Username: SuperUser Password: *** IRIS Merge of /opt/intersystems/iris/iris.cpf.python_merge into /opt/intersystems/iris/iris.cpf IRIS Merge completed successfully INFO:iris_utils._find_libpyton:PythonRuntimeLibrary path set to /usr/local/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/Python INFO:iris_utils._find_libpyton:PythonPath set to /Other/.venv/lib/python3.11/site-packages INFO:iris_utils._find_libpyton:PythonRuntimeLibraryVersion set to 3.11 Troubleshooting You may encounter the following error, here is how to fix them. No module named 'pythonint' This can occur when the environment variable IRISINSTALLDIR is not set correctly. Make sure that the path is correct. IRIS_ACCESSDENIED (-15) This can occur when the service callin is not enabled. Make sure that the service callin is enabled. IRIS_ATTACH (-21) This can occur when the user is not the same as the iris owner. Make sure that the user is the same as the iris owner.","title":"Home"},{"location":"#iris-embedded-python-wrapper","text":"This is a module that wraps embedded python in the IRIS Dataplateform. It provides a simple interface to run python code in IRIS. More details can be found in the IRIS documentation","title":"iris-embedded-python-wrapper"},{"location":"#pre-requisites","text":"To make use of this module, you need to have the IRIS Dataplatform installed on your machine (more details can be found here ). Then you must configure the service callin to allow the python code to be executed and set the environment variables .","title":"Pre-requisites"},{"location":"#configuration-of-the-service-callin","text":"In the Management Portal, go to System Administration > Security > Services, select %Service_CallIn, and check the Service Enabled box. More details can be found in the IRIS documentation","title":"Configuration of the service callin"},{"location":"#environment-variables","text":"Set the following environment variables : IRISINSTALLDIR: The path to the IRIS installation directory LD_LIBRARY_PATH: The path to the IRIS library IRISUSERNAME: The username to connect to IRIS IRISPASSWORD: The password to connect to IRIS IRISNAMESPACE: The namespace to connect to IRIS","title":"Environment Variables"},{"location":"#for-linux-and-macos","text":"For Linux and MacOS, you can set the environment variables as follows: export IRISINSTALLDIR=/opt/iris export LD_LIBRARY_PATH=$IRISINSTALLDIR/bin:$LD_LIBRARY_PATH # for MacOS export DYLD_LIBRARY_PATH=$IRISINSTALLDIR/bin:$DYLD_LIBRARY_PATH # for IRIS username export IRISUSERNAME=SuperUser export IRISPASSWORD=SYS export IRISNAMESPACE=USER","title":"For Linux and MacOS"},{"location":"#for-windows","text":"For windows, you can set the environment variables as follows: set IRISINSTALLDIR=C:\\path\\to\\iris set LD_LIBRARY_PATH=%IRISINSTALLDIR%\\bin;%LD_LIBRARY_PATH% Update the library path for windows set PATH=%IRISINSTALLDIR%\\bin;%PATH% Set the IRIS username, password, and namespace set IRISUSERNAME=SuperUser set IRISPASSWORD=SYS set IRISNAMESPACE=USER","title":"For windows"},{"location":"#for-powershell","text":"For PowerShell, you can set the environment variables as follows: $env:IRISINSTALLDIR=\"C:\\path\\to\\iris\" $env:PATH=\"$env:IRISINSTALLDIR\\bin;$env:PATH\" $env:IRISUSERNAME=\"SuperUser\" $env:IRISPASSWORD=\"SYS\" $env:IRISNAMESPACE=\"USER\"","title":"For PowerShell"},{"location":"#installation","text":"pip install iris-embedded-python-wrapper","title":"Installation"},{"location":"#usage","text":"You can use this module in three ways: Run python code in IRIS Bind a virtual environment to embedded python in IRIS Unbind a virtual environment from embedded python in IRIS","title":"Usage"},{"location":"#run-python-code-in-iris","text":"Now you can use the module to run python code in IRIS. Here is an example: import iris iris.system.Version.GetVersion() Output: 'IRIS for UNIX (Apple Mac OS X for x86-64) 2024.3 (Build 217U) Thu Nov 14 2024 17:29:23 EST'","title":"Run python code in IRIS"},{"location":"#bind-a-virtual-environment-to-embedded-python-in-iris","text":"You can also bind or unbind an virtual environment to embedded python in IRIS. Here is an example: bind_iris Output: (.venv) demo \u2039master*\u203a$ bind_iris INFO:iris_utils._find_libpyton:Created backup at /opt/intersystems/iris/iris.cpf.fa76423a7b924eb085911690c8266129 INFO:iris_utils._find_libpyton:Created merge file at /opt/intersystems/iris/iris.cpf.python_merge up IRIS 2024.3.0.217.0 1972 /opt/intersystems/iris Username: SuperUser Password: *** IRIS Merge of /opt/intersystems/iris/iris.cpf.python_merge into /opt/intersystems/iris/iris.cpf IRIS Merge completed successfully INFO:iris_utils._find_libpyton:PythonRuntimeLibrary path set to /usr/local/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/Python INFO:iris_utils._find_libpyton:PythonPath set to /demo/.venv/lib/python3.11/site-packages INFO:iris_utils._find_libpyton:PythonRuntimeLibraryVersion set to 3.11 You may have to put your admin credentials to bind the virtual environment to the embedded python in IRIS. In windows, you must restart the IRIS.","title":"Bind a virtual environment to embedded python in IRIS"},{"location":"#unbind-a-virtual-environment-from-embedded-python-in-iris","text":"unbind_iris Output: (.venv) demo \u2039master*\u203a$ unbind_iris INFO:iris_utils._find_libpyton:Created merge file at /opt/intersystems/iris/iris.cpf.python_merge up IRIS 2024.3.0.217.0 1972 /opt/intersystems/iris Username: SuperUser Password: *** IRIS Merge of /opt/intersystems/iris/iris.cpf.python_merge into /opt/intersystems/iris/iris.cpf IRIS Merge completed successfully INFO:iris_utils._find_libpyton:PythonRuntimeLibrary path set to /usr/local/Cellar/python@3.11/3.11.10/Frameworks/Python.framework/Versions/3.11/Python INFO:iris_utils._find_libpyton:PythonPath set to /Other/.venv/lib/python3.11/site-packages INFO:iris_utils._find_libpyton:PythonRuntimeLibraryVersion set to 3.11","title":"Unbind a virtual environment from embedded python in IRIS"},{"location":"#troubleshooting","text":"You may encounter the following error, here is how to fix them.","title":"Troubleshooting"},{"location":"#no-module-named-pythonint","text":"This can occur when the environment variable IRISINSTALLDIR is not set correctly. Make sure that the path is correct.","title":"No module named 'pythonint'"},{"location":"#iris_accessdenied-15","text":"This can occur when the service callin is not enabled. Make sure that the service callin is enabled.","title":"IRIS_ACCESSDENIED (-15)"},{"location":"#iris_attach-21","text":"This can occur when the user is not the same as the iris owner. Make sure that the user is the same as the iris owner.","title":"IRIS_ATTACH (-21)"}]}